# Отчет

Выполнил Маряхин Даниил (БПИ205)

Номер варианта: 179 \
Номер задания 1: 13 \
Номер задания 2: 11 

# Описание задачи

Необходимо создать программу, которая реализует обобщенный класс чисел и классы конкретных чисел:
1. Комплексные (действительная и мнимая части – пара действительных чисел)
2. Простые дроби (числитель, знаменатель – пара целых чисел)
3. Полярные координаты (радиус и угол – действительные числа)

Все числа должны быть приводимы к эквивалентным им действительным числам.
Например, для комплексного числа эквивалентное ему действительное - это sqrt(a^2+b^2), для полярных координат - радиус.

Программа должна принять набор чисел из файла в формате ```тип_числа_от_1_до_3 параметр_1 параметр_2 ... параметр_n```,
записать их в массив и отсортировать с помощью алгоритма Shaker Sort по убыванию их действительных значений. 
Также программа должна уметь генерировать числа случайным образом и заполнять ими контейнер.

# Характеристики

### Структура проекта

- Заголовочные файлы (.h): 6 шт. (2095 байт)
- Модули реализации (.cpp): 6 шт. (5762 байт)
- Итого: 12 файлов (7857 байт, ~8Кб)


- Размер исполняемого файла: 65 Кб

### Результаты тестов:
```
========== RUNNING TEST tests/test_all_types_1 ==========
real    0m0.006s
user    0m0.002s
sys     0m0.002s
Result: OK
========== RUNNING TEST tests/test_all_types_2 ==========
real    0m0.007s
user    0m0.002s
sys     0m0.003s
Result: OK
========== RUNNING TEST tests/test_empty_input ==========
real    0m0.005s
user    0m0.001s
sys     0m0.002s
Result: OK
========== RUNNING RANDOM TEST tests/random_test_1 ==========
real    0m0.007s
user    0m0.002s
sys     0m0.004s
========== RUNNING RANDOM TEST tests/random_test_10 ==========
real    0m0.007s
user    0m0.002s
sys     0m0.003s
========== RUNNING RANDOM TEST tests/random_test_100 ==========
real    0m0.007s
user    0m0.002s
sys     0m0.003s
========== RUNNING RANDOM TEST tests/random_test_1000 ==========
real    0m0.021s
user    0m0.011s
sys     0m0.009s
========== RUNNING RANDOM TEST tests/random_test_10000 ==========
real    0m0.847s
user    0m0.779s
sys     0m0.062s
```

# Архитектура программы

### Типы данных

| Тип данных | Размер |
|------------|--------|
| bool       | 1      |
| float      | 4      |
| int        | 4      |

```c++
class Complex {  //   [8]
    float Re;    // 4 [0]
    float Im;    // 4 [4]
};
```

```c++
class Fraction {     //   [8]
    int Numerator;   // 4 [0]
    int Denominator; // 4 [4]
};
```

```c++
class Polar {  //   [8]
    float R;   // 4 [0]
    float Phi; // 4 [4]
};
```

```c++
struct Container {                    // [80008]
    int Size                          // 4 [0]
    static const int MAX_SIZE = 10000 // 4 [4]
    Number* Numbers[MAX_SIZE]         // 80000 [8]
};
```

### Память программы

**main(int argc, char\* argv[]) [120600]**

| Переменная              | Размер       |
|-------------------------|--------------|
| int argc                | 4 [0]        |
| char* argv[]            | 8 [0, heap]  |
| Container container     | 80008 [4]    |
| std::ifstream input     | 576 [80020]  |
| int size                | 4 [80596]    |
| std::ofstream output    | 568 [80600]  |

**void PrintContainer(std::ofstream &output) [4]**

| Переменная              | Размер       |
|-------------------------|--------------|
| int i                   | 4 [0]        |

**void ShakerSort() [13]**

| Переменная              | Размер       |
|-------------------------|--------------|
| int left                | 4 [0]        |
| int right               | 4 [4]        |
| int pos                 | 4 [8]        |
| bool isChanged          | 1 [12]       |

### Глобальные переменные

Нет



# Сравнение с предыдущими реализациями

По сравнению с функциональной реализацией, исполняемый файл весит в 2,43 раза меньше, на больших тестах программа работает в 1,42 раза быстрее.
Код программ достаточно сильно похож, архитектурно отличия небольшие: функции, которые ранее были глобальными, теперь стали 
методами соответствующих им классов, класс ```Number``` теперь лишь задает интерфейс, но никак его не реализует его сам.